<link rel="import" href="packages://ui-kit/widget/index.html">
<link rel="import" href="item.html">

<dom-module id="editor-console">
  <template>
    <style>
      :host {
        @apply(--layout-vertical);
      }

      #view {
        border: 1px solid black;

        box-shadow: inset 0 0 8px 2px rgba(0,0,0,0.2);
        background: #333;
      }

      ul {
        padding: 0px;
        margin: 0px;

        overflow: auto;
      }

      editor-console-item {
        background: #222;
      }

      editor-console-item:nth-child(even) {
        background: #292929;
      }
    </style>

    <editor-toolbar>
      <editor-button class="red" on-click="clear">
        <i class="fa fa-ban"></i>
      </editor-button>
      <editor-button id="openLogBtn" on-click="_onOpenLogFile">
        <i class="fa fa-file-code-o"></i>
      </editor-button>
      <ui-input
        id="input"
        placeholder="filter"
        value="{{filterText::input}}"
        cancelable
        unnavigable
      ></ui-input>
      <ui-checkbox
        unnavigable
        checked="{{useRegex::change}}">Regex</ui-checkbox>
      <ui-select
        value="{{filterOption::confirm}}"
        class="small"
        unnavigable
      >
        <option value="All">All</option>
        <option value="Log">Log</option>
        <option value="Success">Success</option>
        <option value="Failed">Failed</option>
        <option value="Info">Info</option>
        <option value="Warn">Warn</option>
        <option value="Error">Error</option>
      </ui-select>
      <span class="flex-1"></span>
      <ui-checkbox unnavigable checked="{{collapse::change}}">Collapse</ui-checkbox>
    </editor-toolbar>
    <ul id="view" class="flex-1">
      <template is="dom-repeat" items="{{applyFilter(logsCount,filterText,filterOption,useRegex,collapse)}}">
        <editor-console-item
          type="[[item.type]]"
          count="[[item.count]]"
          desc="[[item.desc]]"
          detail="[[item.detail]]"
          show-count="[[collapse]]"
        >
        </editor-console-item>
      </template>
    </ul>
  </template>

  <script type="text/javascript" src="console.js"></script>
</dom-module>
